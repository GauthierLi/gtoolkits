---
name: mark_imgs
description: "å›¾ç‰‡æŸ¥çœ‹ä¸æ ‡è®°å·¥å…· - æ”¯æŒæµè§ˆæ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡ã€é”®ç›˜å¯¼èˆªã€æ ‡è®°/å–æ¶ˆæ ‡è®°å›¾ç‰‡å¹¶ä¿å­˜è·¯å¾„ã€‚ä½¿ç”¨å½“éœ€è¦å¿«é€Ÿç­›é€‰å’Œæ ‡æ³¨å›¾åƒæ•°æ®æ—¶ã€‚"
homepage: ""
metadata: { "openclaw": { "emoji": "ğŸ–¼ï¸", "requires": { "bins": ["python3"] } } }
---

# mark_imgs æ¨¡å—

## ä½¿ç”¨æ—¶æœº

âœ… **ä½¿ç”¨åœºæ™¯ï¼š**
- éœ€è¦å¿«é€Ÿæµè§ˆå¤§é‡å›¾åƒæ•°æ®æ—¶ï¼ˆå¦‚è‡ªåŠ¨é©¾é©¶æ•°æ®é›†ï¼‰
- éœ€è¦ç­›é€‰å’Œæ ‡è®°ç‰¹å®šå›¾ç‰‡ï¼ˆå¦‚è´¨é‡é—®é¢˜ã€ç‰¹æ®Šåœºæ™¯ï¼‰
- éœ€è¦æŒ‰ bag/æ–‡ä»¶å¤¹å±‚çº§å¯¼èˆªå›¾åƒæ—¶
- éœ€è¦å°†æ ‡è®°ç»“æœå¯¼å‡ºåˆ°æ–‡æœ¬æ–‡ä»¶æ—¶

âŒ **ä¸ä½¿ç”¨åœºæ™¯ï¼š**
- æ‰¹é‡å›¾åƒå¤„ç†/è½¬æ¢ï¼ˆåº”ä½¿ç”¨ä¸“é—¨çš„å›¾åƒå¤„ç†è„šæœ¬ï¼‰
- åœ¨çº¿å›¾ç‰‡æµè§ˆï¼ˆæœ¬å·¥å…·ä¸»è¦é¢å‘æœ¬åœ°æ•°æ®é›†ï¼‰
- éœ€è¦å›¾å½¢ç•Œé¢æ ‡æ³¨æ¡†çš„åœºæ™¯ï¼ˆæœ¬å·¥å…·ä»…æ”¯æŒæ•´å›¾æ ‡è®°ï¼‰

## åŠŸèƒ½è¯´æ˜

### ä¸»è¦åŠŸèƒ½

1. **å›¾ç‰‡æµè§ˆ**ï¼šé€’å½’æœç´¢æ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡ï¼ˆ.png, .jpg, .jpegï¼‰ï¼Œæ”¯æŒæœ€å¤§æ·±åº¦é™åˆ¶
2. **é”®ç›˜å¯¼èˆª**ï¼š
   - `a` / `d`ï¼šåé€€/å‰è¿›ä¸€å¸§
   - `n` / `b`ï¼šå‰è¿›/åé€€ä¸€ä¸ªæ–‡ä»¶å¤¹
   - `r`ï¼šè·³è½¬åˆ°æŒ‡å®šå¸§
3. **æ ‡è®°åŠŸèƒ½**ï¼š
   - `p`ï¼šæ ‡è®°å½“å‰å›¾ç‰‡ï¼Œè·¯å¾„å†™å…¥ `/tmp/{sp_name}.txt`
   - `o`ï¼šå–æ¶ˆæ ‡è®°ï¼Œä»æ–‡ä»¶ä¸­åˆ é™¤å½“å‰å›¾ç‰‡è·¯å¾„
4. **æ•°æ®æºæ”¯æŒ**ï¼š
   - æœ¬åœ°æ–‡ä»¶å¤¹é€’å½’æœç´¢
   - æ”¯æŒæŒ‡å®š baglist æ‰¹é‡åŠ è½½
   - æ”¯æŒå¤šç›¸æœºé€‰æ‹©ï¼ˆcamera_1-6, traffic_2ï¼‰

### è¾“å…¥å‚æ•°

| å‚æ•° | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|------|------|------|------|
| `--folder` | string | æ˜¯ | åŒ…å«å›¾ç‰‡çš„æ ¹æ–‡ä»¶å¤¹è·¯å¾„ |
| `--max_depth` / `-m` | int | å¦ | é€’å½’æœç´¢çš„æœ€å¤§æ·±åº¦ï¼ˆé»˜è®¤ï¼š3ï¼‰ |
| `--read_online` / `-r` | bool | å¦ | å¼ºåˆ¶åœ¨çº¿è¯»å–ï¼Œä¸ä½¿ç”¨ç¼“å­˜ |
| `--sp_name` | string | å¦ | æ ‡è®°æ–‡ä»¶çš„åç§°åç¼€ï¼ˆé»˜è®¤ï¼šoup_imgï¼‰ |
| `--baglist-specify` / `-b` | string | å¦ | æŒ‡å®š baglist æ–‡ä»¶è·¯å¾„ |
| `--camera` / `-c` | string | å¦ | ç›¸æœºé€‰æ‹©ï¼š1/2/3/4/5/6/t2 |
| `--mark-type` / `-t` | string | å¦ | æ ‡è®°ç±»å‹ï¼šimagesï¼ˆå›¾ç‰‡è·¯å¾„ï¼‰æˆ– bagsï¼ˆbag åï¼‰ |
| `--big` | bool | å¦ | ä½¿ç”¨æ›´å¤§çš„å›¾ç‰‡æ˜¾ç¤ºå°ºå¯¸ |

### è¾“å‡º

- **æ ‡è®°æ–‡ä»¶**ï¼š`/tmp/{sp_name}.txt`ï¼Œæ¯è¡Œä¸€ä¸ªè¢«æ ‡è®°çš„å›¾ç‰‡è·¯å¾„æˆ– bag å
- **æ§åˆ¶å°è¾“å‡º**ï¼šå½“å‰æµè§ˆè¿›åº¦ã€æ ‡è®°/å–æ¶ˆæ ‡è®°çš„è·¯å¾„ä¿¡æ¯

## å‘½ä»¤/ç”¨æ³•

### åŸºæœ¬ç”¨æ³•

```bash
# æµè§ˆæ–‡ä»¶å¤¹ä¸­çš„å›¾ç‰‡
gtools mark_imgs --folder /path/to/images

# é™åˆ¶é€’å½’æ·±åº¦ä¸º 5
gtools mark_imgs --folder /path/to/images --max_depth 5

# è‡ªå®šä¹‰æ ‡è®°æ–‡ä»¶å
gtools mark_imgs --folder /path/to/images --sp_name quality_issues

# å¼ºåˆ¶åœ¨çº¿è¯»å–ï¼Œä¸ä½¿ç”¨ç¼“å­˜
gtools mark_imgs --folder /path/to/images --read_online
```

### ä½¿ç”¨ baglist

```bash
# ä» baglist æ–‡ä»¶åŠ è½½æŒ‡å®šçš„æ•°æ®
gtools mark_imgs --baglist-specify /path/to/bags.txt --camera 1

# æ ‡è®° bag åè€Œä¸æ˜¯å›¾ç‰‡è·¯å¾„
gtools mark_imgs --baglist-specify bags.txt --camera 2 --mark-type bags
```

### é…ç½®æ–‡ä»¶æ–¹å¼

```bash
# ä½¿ç”¨é…ç½®æ–‡ä»¶
gtools run --module-config configs/mark_imgs/default.json
```

## é…ç½®ç¤ºä¾‹

```json
{
  "_positional_args": {
    "folder": "/mnt/csi-data-aly/shared/public/gauthierli/data/drfile_snow_infer"
  },
  "max_depth": 5,
  "sp_name": "snow_samples",
  "camera": "1",
  "mark_type": "images"
}
```

## é”®ç›˜å¿«æ·é”®

| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `a` | åé€€ä¸€å¸§ |
| `d` | å‰è¿›ä¸€å¸§ |
| `n` | å‰è¿›ä¸€ä¸ªæ–‡ä»¶å¤¹ |
| `b` | åé€€ä¸€ä¸ªæ–‡ä»¶å¤¹ |
| `p` | æ ‡è®°å½“å‰å›¾ç‰‡ |
| `o` | å–æ¶ˆæ ‡è®° |
| `r` | è·³è½¬åˆ°æŒ‡å®šå¸§ |
| `q` | é€€å‡º |

## æ³¨æ„äº‹é¡¹

- **ä¾èµ–**ï¼šéœ€è¦ OpenCV (`cv2`) å’Œ `tqdm` åº“
- **ç¼“å­˜**ï¼šæ–‡ä»¶å¤¹åˆ—è¡¨ä¼šç¼“å­˜åˆ° `/tmp/.cache/read_file_offline.pkl`ï¼Œä½¿ç”¨ `--read_online` å¯è·³è¿‡ç¼“å­˜
- **æ ‡è®°æ–‡ä»¶**ï¼šæ ‡è®°ç»“æœä¿å­˜åœ¨ `/tmp/` ç›®å½•ä¸‹ï¼Œæ³¨æ„åŠæ—¶å¤‡ä»½
- **æ˜¾ç¤ºå°ºå¯¸**ï¼šé»˜è®¤å®½åº¦ 1920pxï¼Œé«˜åº¦æŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼›ä½¿ç”¨ `--big` å¯å¢å¤§æ˜¾ç¤ºå°ºå¯¸
- **ç¯å¢ƒå˜é‡**ï¼šè®¾ç½® `notext` å¯éšè—å›¾ç‰‡ä¸Šçš„æ–‡å­—å åŠ ï¼ˆè·¯å¾„ã€å¸§æ•°ä¿¡æ¯ï¼‰

## ç›¸å…³æ–‡ä»¶

- ä¸»æ¨¡å—ï¼š`functions/mark_imgs/main.py`
- é…ç½®æ–‡ä»¶ï¼š`configs/mark_imgs/default.json`
